<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VaultITMobileSSOFramework for Android: org.vaultit.mobilesso.mobilessosdk.SessionManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">VaultITMobileSSOFramework for Android
   &#160;<span id="projectnumber">1.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>org</b></li><li class="navelem"><b>vaultit</b></li><li class="navelem"><b>mobilesso</b></li><li class="navelem"><b>mobilessosdk</b></li><li class="navelem"><a class="el" href="classorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session_manager.html">SessionManager</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session_manager-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">org.vaultit.mobilesso.mobilessosdk.SessionManager Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session_manager_1_1_session_listener.html">SessionListener</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session_manager_1_1_token_refresh_callback.html">TokenRefreshCallback</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:abc312d596078be0be98844c630da1154"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session_manager.html#abc312d596078be0be98844c630da1154">SessionManager</a> (@NonNull Context context, @NonNull <a class="el" href="classorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_identity_provider.html">IdentityProvider</a> idp)</td></tr>
<tr class="separator:abc312d596078be0be98844c630da1154"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83e3d4127d56999ccc6cc91e20f9a3c1"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session_manager.html#a83e3d4127d56999ccc6cc91e20f9a3c1">isInitialized</a> ()</td></tr>
<tr class="separator:a83e3d4127d56999ccc6cc91e20f9a3c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e7945b05fc442c61d7d217f14f4e2c3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session_manager.html#a7e7945b05fc442c61d7d217f14f4e2c3">dispose</a> ()</td></tr>
<tr class="separator:a7e7945b05fc442c61d7d217f14f4e2c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0df0bd9a0993c758294938455b56fed5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session.html">Session</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session_manager.html#a0df0bd9a0993c758294938455b56fed5">getSession</a> ()</td></tr>
<tr class="separator:a0df0bd9a0993c758294938455b56fed5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26745a0a7acd0d94c41239286d244b55"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session_manager.html#a26745a0a7acd0d94c41239286d244b55">authorize</a> ( @NonNull Context activityContext, @NonNull Intent tokenResponseIntent)</td></tr>
<tr class="separator:a26745a0a7acd0d94c41239286d244b55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40027e8151d8c78001b1e25fdee2bfd4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session_manager.html#a40027e8151d8c78001b1e25fdee2bfd4">authorize</a> ( @NonNull Context activityContext, @NonNull Intent tokenResponseIntent, @Nullable Map&lt; String, String &gt; additionalParams)</td></tr>
<tr class="separator:a40027e8151d8c78001b1e25fdee2bfd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97d5d056eb3a2dc5cf0f0fe5dcbdbeb8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session_manager.html#a97d5d056eb3a2dc5cf0f0fe5dcbdbeb8">initialize</a> ()</td></tr>
<tr class="separator:a97d5d056eb3a2dc5cf0f0fe5dcbdbeb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac73ae06bf35bfabbc5b71b6901084933"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session_manager.html#ac73ae06bf35bfabbc5b71b6901084933">getFreshSession</a> (final <a class="el" href="interfaceorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session_manager_1_1_token_refresh_callback.html">TokenRefreshCallback</a> callback)</td></tr>
<tr class="separator:ac73ae06bf35bfabbc5b71b6901084933"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f07a62dcd5c8624210e3f0fe66e041c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session_manager.html#a4f07a62dcd5c8624210e3f0fe66e041c">refreshSession</a> (final <a class="el" href="interfaceorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session_manager_1_1_token_refresh_callback.html">TokenRefreshCallback</a> callback)</td></tr>
<tr class="separator:a4f07a62dcd5c8624210e3f0fe66e041c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a639303bd3aa0fd58452acf630c97008f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session_manager.html#a639303bd3aa0fd58452acf630c97008f">sessionReset</a> ()</td></tr>
<tr class="separator:a639303bd3aa0fd58452acf630c97008f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3517daeead853278a0a6e24a01d37def"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session_manager.html#a3517daeead853278a0a6e24a01d37def">logout</a> (final Intent intent, final int color)</td></tr>
<tr class="separator:a3517daeead853278a0a6e24a01d37def"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a389806d70b1b5cb5f6a3dc8a3583534d"><td class="memItemLeft" align="right" valign="top">synchronized void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session_manager.html#a389806d70b1b5cb5f6a3dc8a3583534d">addSessionListener</a> (Context context, <a class="el" href="interfaceorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session_manager_1_1_session_listener.html">SessionListener</a> listener)</td></tr>
<tr class="separator:a389806d70b1b5cb5f6a3dc8a3583534d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a914d8db2dde204c52f8a9f5b42539aa7"><td class="memItemLeft" align="right" valign="top">synchronized void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session_manager.html#a914d8db2dde204c52f8a9f5b42539aa7">removeSessionListener</a> (<a class="el" href="interfaceorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session_manager_1_1_session_listener.html">SessionListener</a> listener)</td></tr>
<tr class="separator:a914d8db2dde204c52f8a9f5b42539aa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9c4361720450e33fe9baf2336c558cc"><td class="memItemLeft" align="right" valign="top">synchronized void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session_manager.html#af9c4361720450e33fe9baf2336c558cc">registerForEvent</a> (NotificationReceiver.EventType event)</td></tr>
<tr class="separator:af9c4361720450e33fe9baf2336c558cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44d9e79d44efe0b559b9e20f7151170d"><td class="memItemLeft" align="right" valign="top">synchronized void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session_manager.html#a44d9e79d44efe0b559b9e20f7151170d">unregisterAllEvents</a> ()</td></tr>
<tr class="separator:a44d9e79d44efe0b559b9e20f7151170d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a8ee7b3a21b531819c297a341c2969403"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session_manager.html#a8ee7b3a21b531819c297a341c2969403">dataReset</a> (Context context)</td></tr>
<tr class="separator:a8ee7b3a21b531819c297a341c2969403"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a4afec8f6be6105bca51f8cc3f404440a"><td class="memItemLeft" align="right" valign="top"><a id="a4afec8f6be6105bca51f8cc3f404440a"></a>
static final String&#160;</td><td class="memItemRight" valign="bottom"><b>KEY_SESSION_ERROR_JSON</b> = &quot;SessionManager_keySessionErrorJson&quot;</td></tr>
<tr class="separator:a4afec8f6be6105bca51f8cc3f404440a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Main class for Mobile SSO SDK</p><ul>
<li><p class="startli">manages sessions, normal call sequence:</p>
<p class="startli"><a class="el" href="classorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session_manager.html#a389806d70b1b5cb5f6a3dc8a3583534d">addSessionListener()</a> <a class="el" href="classorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session_manager.html#a97d5d056eb3a2dc5cf0f0fe5dcbdbeb8">initialize()</a> <a class="el" href="classorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session_manager.html#a26745a0a7acd0d94c41239286d244b55">authorize()</a> ... <a class="el" href="classorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session_manager.html#ac73ae06bf35bfabbc5b71b6901084933">getFreshSession()</a> &lt;some network="" operation="" using="" access="" token&gt;=""&gt; ... <a class="el" href="classorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session_manager.html#a3517daeead853278a0a6e24a01d37def">logout()</a> // if required <a class="el" href="classorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session_manager.html#a914d8db2dde204c52f8a9f5b42539aa7">removeSessionListener()</a> </p>
</li>
</ul>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="abc312d596078be0be98844c630da1154"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc312d596078be0be98844c630da1154">&#9670;&nbsp;</a></span>SessionManager()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">org.vaultit.mobilesso.mobilessosdk.SessionManager.SessionManager </td>
          <td>(</td>
          <td class="paramtype">@NonNull Context&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">@NonNull <a class="el" href="classorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_identity_provider.html">IdentityProvider</a>&#160;</td>
          <td class="paramname"><em>idp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructs new <a class="el" href="classorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session_manager.html">SessionManager</a> object, which includes idp in data part. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a389806d70b1b5cb5f6a3dc8a3583534d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a389806d70b1b5cb5f6a3dc8a3583534d">&#9670;&nbsp;</a></span>addSessionListener()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">synchronized void org.vaultit.mobilesso.mobilessosdk.SessionManager.addSessionListener </td>
          <td>(</td>
          <td class="paramtype">Context&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interfaceorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session_manager_1_1_session_listener.html">SessionListener</a>&#160;</td>
          <td class="paramname"><em>listener</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>For adding a <a class="el" href="interfaceorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session_manager_1_1_session_listener.html">SessionListener</a> to <a class="el" href="classorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session_manager.html">SessionManager</a>, put in e.g. Activity's onStart(). Listeners will receive generic session state callbacks. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">listener</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a26745a0a7acd0d94c41239286d244b55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26745a0a7acd0d94c41239286d244b55">&#9670;&nbsp;</a></span>authorize() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void org.vaultit.mobilesso.mobilessosdk.SessionManager.authorize </td>
          <td>(</td>
          <td class="paramtype">@NonNull Context&#160;</td>
          <td class="paramname"><em>activityContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">@NonNull Intent&#160;</td>
          <td class="paramname"><em>tokenResponseIntent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Authorizes client, including performing code exchange for tokens. If successful, returns intent given as parameter.</p>
<ul>
<li>will check if network status has changed and return didLoseNetwork or didGainNetwork, no further work will be done if network is unavailable</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">activityContext</td><td>activity context </td></tr>
    <tr><td class="paramname">tokenResponseIntent</td><td>Intent that will be used to start an activity after processing is done. The returned intent contains a <a class="el" href="classorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session_error.html">SessionError</a> object if an error occurred. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a40027e8151d8c78001b1e25fdee2bfd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40027e8151d8c78001b1e25fdee2bfd4">&#9670;&nbsp;</a></span>authorize() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void org.vaultit.mobilesso.mobilessosdk.SessionManager.authorize </td>
          <td>(</td>
          <td class="paramtype">@NonNull Context&#160;</td>
          <td class="paramname"><em>activityContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">@NonNull Intent&#160;</td>
          <td class="paramname"><em>tokenResponseIntent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">@Nullable Map&lt; String, String &gt;&#160;</td>
          <td class="paramname"><em>additionalParams</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Authorizes client, including performing code exchange for tokens. If successful, returns intent given as parameter without <a class="el" href="classorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session_error.html">SessionError</a> object.</p>
<ul>
<li>will check if network status has changed and return didLoseNetwork or didGainNetwork, no further work will be done if network is unavailable; if network is not available, will return didFailAuthorize</li>
<li>will check if initialized, if not will send didLoseSession</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">activityContext</td><td>activity context </td></tr>
    <tr><td class="paramname">tokenResponseIntent</td><td>Intent that will be used to start an activity after processing is done. The returned intent contains a <a class="el" href="classorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session_error.html">SessionError</a> object if an error occurred. </td></tr>
    <tr><td class="paramname">additionalParams</td><td>Additional parameters for authorization request, e.g. prompt, acr_values </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8ee7b3a21b531819c297a341c2969403"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ee7b3a21b531819c297a341c2969403">&#9670;&nbsp;</a></span>dataReset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void org.vaultit.mobilesso.mobilessosdk.SessionManager.dataReset </td>
          <td>(</td>
          <td class="paramtype">Context&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Will reset all data. This can be used when no activities exist. </p>

</div>
</div>
<a id="a7e7945b05fc442c61d7d217f14f4e2c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e7945b05fc442c61d7d217f14f4e2c3">&#9670;&nbsp;</a></span>dispose()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void org.vaultit.mobilesso.mobilessosdk.SessionManager.dispose </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Should be called prior to deleting the object (e.g. in Activity's onDestroy()). </p>

</div>
</div>
<a id="ac73ae06bf35bfabbc5b71b6901084933"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac73ae06bf35bfabbc5b71b6901084933">&#9670;&nbsp;</a></span>getFreshSession()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void org.vaultit.mobilesso.mobilessosdk.SessionManager.getFreshSession </td>
          <td>(</td>
          <td class="paramtype">final <a class="el" href="interfaceorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session_manager_1_1_token_refresh_callback.html">TokenRefreshCallback</a>&#160;</td>
          <td class="paramname"><em>callback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Will fetch fresh tokens if needed. Tokens are access, id and refresh tokens.</p>
<ul>
<li>will check if network status has changed and return didLoseNetwork or didGainNetwork, no further work will be done if network is unavailable</li>
<li>will check if initialized, if not will send didLoseSession and return callback with error</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callback</td><td>will return session or error. Generic listeners will also return session status or error. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0df0bd9a0993c758294938455b56fed5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0df0bd9a0993c758294938455b56fed5">&#9670;&nbsp;</a></span>getSession()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session.html">Session</a> org.vaultit.mobilesso.mobilessosdk.SessionManager.getSession </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns current session. </p><dl class="section return"><dt>Returns</dt><dd><a class="el" href="classorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session.html">Session</a> </dd></dl>

</div>
</div>
<a id="a97d5d056eb3a2dc5cf0f0fe5dcbdbeb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97d5d056eb3a2dc5cf0f0fe5dcbdbeb8">&#9670;&nbsp;</a></span>initialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void org.vaultit.mobilesso.mobilessosdk.SessionManager.initialize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>initializes library.</p><ul>
<li>will check if network status has changed and return didLoseNetwork or didGainNetwork in addition to <a class="el" href="interfaceorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session_manager_1_1_session_listener.html#ae4ee32c5e99f52f53464a71c003f531a">SessionListener.initialized()</a>. initialized() callback can still return success (ie. a session) in offline case if refresh token is still valid</li>
<li>will read any previous session state from file</li>
<li>if discovery doc missing, will fetch again</li>
<li>will refresh tokens if needed</li>
</ul>
<p>Callback will be through SessionListener.initialized(session,error). If successful, ie. session is valid (refresh token ok), session will be returned, otherwise error. Caller should check if session is online or not before continuing. Caller should consider offline case where stale (EXPIRED) session exists, to show possible cached user data anyway.</p>
<p>This function must be called after calling <a class="el" href="classorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session_manager.html#a3517daeead853278a0a6e24a01d37def">logout()</a>, since logout clears the initialized data. </p>

</div>
</div>
<a id="a83e3d4127d56999ccc6cc91e20f9a3c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83e3d4127d56999ccc6cc91e20f9a3c1">&#9670;&nbsp;</a></span>isInitialized()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean org.vaultit.mobilesso.mobilessosdk.SessionManager.isInitialized </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Is initialized? This means that <a class="el" href="classorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session_manager.html#a97d5d056eb3a2dc5cf0f0fe5dcbdbeb8">initialize()</a> has been successfully called, ie. that the discovery document has been downloaded </p><dl class="section return"><dt>Returns</dt><dd>Returns true if initialized. </dd></dl>

</div>
</div>
<a id="a3517daeead853278a0a6e24a01d37def"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3517daeead853278a0a6e24a01d37def">&#9670;&nbsp;</a></span>logout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void org.vaultit.mobilesso.mobilessosdk.SessionManager.logout </td>
          <td>(</td>
          <td class="paramtype">final Intent&#160;</td>
          <td class="paramname"><em>intent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">final int&#160;</td>
          <td class="paramname"><em>color</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>performs logout request, using browser.</p>
<ul>
<li>will check if network status has changed and return didLoseNetwork or didGainNetwork, no further work will be done if network is unavailable</li>
<li>will check if initialized, if not will send didLoseSession</li>
</ul>
<p>The function cannot be certain if the logout operation will succeed (e.g. race condition with another app). In case of failure, the browser will be left open with an error message. To maximize the likelihood of success, the function will refresh tokens prior to attempting logout.</p>
<p>After calling logout, the application must reinitialize the SSO library by calling <a class="el" href="classorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session_manager.html#a97d5d056eb3a2dc5cf0f0fe5dcbdbeb8">initialize()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">intent</td><td>callback intent for notifying of successful logout </td></tr>
    <tr><td class="paramname">color</td><td>color to use with browser toolbar </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4f07a62dcd5c8624210e3f0fe66e041c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f07a62dcd5c8624210e3f0fe66e041c">&#9670;&nbsp;</a></span>refreshSession()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void org.vaultit.mobilesso.mobilessosdk.SessionManager.refreshSession </td>
          <td>(</td>
          <td class="paramtype">final <a class="el" href="interfaceorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session_manager_1_1_token_refresh_callback.html">TokenRefreshCallback</a>&#160;</td>
          <td class="paramname"><em>callback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Will always try to refresh tokens. Similar to <a class="el" href="classorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session_manager.html#ac73ae06bf35bfabbc5b71b6901084933">getFreshSession()</a>.</p>
<ul>
<li>will check if network status has changed and return didLoseNetwork or didGainNetwork, no further work will be done if network is unavailable</li>
<li>will check if initialized, if not will send didLoseSession and return callback with error</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callback</td><td>will return session or error. Generic listeners will also return session status or error. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af9c4361720450e33fe9baf2336c558cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9c4361720450e33fe9baf2336c558cc">&#9670;&nbsp;</a></span>registerForEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">synchronized void org.vaultit.mobilesso.mobilessosdk.SessionManager.registerForEvent </td>
          <td>(</td>
          <td class="paramtype">NotificationReceiver.EventType&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>allows Activity to register for events such as login and logout </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a914d8db2dde204c52f8a9f5b42539aa7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a914d8db2dde204c52f8a9f5b42539aa7">&#9670;&nbsp;</a></span>removeSessionListener()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">synchronized void org.vaultit.mobilesso.mobilessosdk.SessionManager.removeSessionListener </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interfaceorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session_manager_1_1_session_listener.html">SessionListener</a>&#160;</td>
          <td class="paramname"><em>listener</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>For removing <a class="el" href="interfaceorg_1_1vaultit_1_1mobilesso_1_1mobilessosdk_1_1_session_manager_1_1_session_listener.html">SessionListener</a>. Put in e.g. Activity's onStop().</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">listener</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a639303bd3aa0fd58452acf630c97008f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a639303bd3aa0fd58452acf630c97008f">&#9670;&nbsp;</a></span>sessionReset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void org.vaultit.mobilesso.mobilessosdk.SessionManager.sessionReset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Will reset session and other state (e.g. tokens, discovery doc) </p>

</div>
</div>
<a id="a44d9e79d44efe0b559b9e20f7151170d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44d9e79d44efe0b559b9e20f7151170d">&#9670;&nbsp;</a></span>unregisterAllEvents()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">synchronized void org.vaultit.mobilesso.mobilessosdk.SessionManager.unregisterAllEvents </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>allows Activity to unregister all events it is currently registered to receive; place e.g. in onDestroy() </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/janne.parviainen/misc_workspace/mobilesso-android-sdk/mobilessosdk/src/main/java/org/vaultit/mobilesso/mobilessosdk/SessionManager.java</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
